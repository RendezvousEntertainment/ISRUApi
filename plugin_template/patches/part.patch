@use "builtin:debug";

:parts #nosecone_1v_hemisphere {
    +Module_Mining {
        +Data_Mining {
            $log: debug-log("ISRU module added");
            +MiningFormulaDefinitions {
                InternalName: MiningFormulaDefinitions;
                FormulaLocalizationKey: "ISRU/Formulas/Mining";
                InputResources: [
                    {
                        Rate: 0.98,
                        ResourceName: ElectricCharge,
                        AcceptanceThreshold: 0.00000001
                    }
                ];
                OutputResources: [
                    {
                        Rate: 0.1,
                        ResourceName: Regolith,
                        AcceptanceThreshold: 0.00000001
                    }
                ];
                AcceptanceThreshold: 0.000001;
            }
            $log: debug-log("ISRU MiningFormulaDefinitions added");
        }
    }
    +Module_ResourceCapacities {
        +Data_ResourceCapacities {}
    }
    resourceContainers: [
        {
            name: "Regolith",
            capacityUnits: 0.1,
            initialUnits: 0,
            NonStageable: true
        }
    ];
    resourceSummary: {
        Consumes: [
            "ElectricCharge"
        ],
        Generates: [
            "Regolith"
        ],
        Contains: [
            "Regolith"
        ]
    };
}

:parts #fueltank_1v_inline_methalox_1x1 {
    resourceContainers: [
        {
            name: "Ore",
            capacityUnits: 10,
            initialUnits: 0,
            NonStageable: true
        }
    ];
    $log: debug-log("ISRU Ore ressource added");
    resourceSummary: {
        Consumes: null,
        Generates: null,
        Contains: [
            "Ore"
        ]
    };
    $log: debug-log("ISRU Ore ressource added bis");
}